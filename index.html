<meta charset="UTF-8">

<body>
<template id="ah-h1">
    <style>
        a {
            visibility: hidden;
            text-decoration:none;
        }

        h1:hover a {
            visibility: visible;
        }

        h1 {
            margin-bottom: 300px;
        }
    </style>

    <h1>
        <a>ðŸ”—</a>
        <span></span>
    </h1>
</template>

<ah-h1 title="Getting Started"></ah-h1>
<ah-h1 title="Build"></ah-h1>
<ah-h1 title="Test"></ah-h1>
<ah-h1 title="License"></ah-h1>

<script>
  class EasilyLinkableH1 extends HTMLElement {
    constructor() {
      super()
      let template = document.getElementById("ah-h1")
      let templateContent = template.content
      const shadowRoot = this.attachShadow({mode: 'open'})
        .appendChild(templateContent.cloneNode(true))
    }

    connectedCallback() {
      const title= this.getAttribute("title")
      this.setAttribute('id', title)
      this.shadowRoot.querySelector('h1 > a').setAttribute('href', `#${title}`)
      this.shadowRoot.querySelector('h1 > span').innerHTML = title
    }
  }

  customElements.define('ah-h1', EasilyLinkableH1)
</script>
</body>
</html>